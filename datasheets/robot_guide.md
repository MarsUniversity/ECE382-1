title = 'ECE382 Robot Guidance'

# ECE 382 Robot Guidance

## Batteries
  The robots are powered by a 12V Nickel Metal Hydride battery pack.  They are mounted on the bottom front of the robot chassis and connect via a black and red power pole connector.  Match up the colors on each connector and it should snap right in.
  When the battery reaches its discharged point as described in the battery monitor section, it is your responsibility to place the discharged pack in one of the blue bins in the bottom of the bookshelf labeled DISCHARGED and retrieve a fully charged pack from the CHARGED bins above.  It is my responsibility to take the discharged packs and begin a charge cycle the morning of each duty day.  I will keep the CHARGED bins as full as possible.
## Battery monitor board
  The small pc board on top of the robot has switches to connect the battery to the circuit, fuses to protect the battery and the robot circuitry from shorts, and LEDs to indicate when power is applied and when the battery needs to be replaced.
  There are two switches on the board – consider these to be and act like one switch.  The robot was originally designed to have two battery packs – one for circuitry and one for the motors – but has since been simplified to use just one battery pack.  **Do NOT make changes to your circuit or measure resistance with power applied.**  
  The green LEDs will indicate when power is applied to the circuit.  If the green LEDs do not light when the switches are toward the center of the board, either the battery is not connected or one of the 2 amp fuses is blown.  The yellow LED (only one will operate if there are two installed) is meant to indicate that the battery is at the point where it needs to be replaced.  If the yellow LED flickers when the motors are running, you do not need to replace the battery pack yet.  If the yellow LED is solid on, then either there is a blown fuse (2 amp or 1.5 amp), the USB cable is connected to your computer with the battery switches off, or the battery needs to be replaced.
## Fuses
  **If you suspect you have a blown fuse, do not blindly replace the fuse with another without determining what has caused the fuse to blow.**
  How do we know if a fuse is blown?  A fuse acts just like a conductor when it is operating normally.  Therefore, a good fuse will have zero ohms resistance and will drop close to no volts across it.  If you must test a fuse with power to the circuit, use the multimeter in a dc volts range.  If the fuse is blown, it will drop a significant amount of voltage across it, i.e., 5V or 12V.  If you disconnect power from the circuit, use a resistance scale to measure the resistance of the fuse.  A good fuse will have close to zero ohms.  A blown fuse will measure a higher value of resistance, i.e., you will actually be measuring the resistance of the circuit around the fuse.   The best way to test a fuse is to totally remove it from the circuit and measure its resistance.
  So how do we determine what is causing the fuse to blow?  With the battery disconnected and the multimeter in an ohms range, connect the negative/black lead of the meter to the ground or minus side of the 5v voltage rail.  You will most likely see a low value of resistance, indicating that something is shorting or putting a very heavy load on the battery pack.  Go around your circuit and disconnect 5v or 12v from each IC and note the resistance reading.  If it doesn't change, that component is probably not the cause of the blown fuse.  If the resistance suddenly jumps up to a high value, say 10k to 20 meg ohns, then you've located the IC that is blowing the fuse.   If these steps do not yield any useful info, check your circuit wiring to make sure you don't have a connection between 5v/12v to ground.
  Often, when your circuit works but then suddenly does not, especially with respect to the motor driver function, it indicates that your motor controller IC has been fried and is internally shorted.
  To replace a blown fuse, carefully remove the blown fuse with a pair of needle nose pliers from the blue toolbox in the lab.  With a new fuse of the proper value (see the picture taped to the equipment closet door in the lab), bend each lead down at right angles to the fuse and trim them to the same length as the leads on the fuse you removed.  This should put the leads at the proper width to be inserted in the pin sockets on the battery board.  Carefully insert the leads in the pin sockets and gently press them into the sockets.   Proper alignment is critical here.
## Launchpad board mounting
  The MSP430 launchpad boards issued with the robots have one of pins on the bottom of the board and a socket mounted on the top of the board.  The pins will plug right into the socket on the top left side of the robot board, permitting access to socket pins to connect the msp430 to your circuit.  Most of you will have one of the newer robots, we can hot glue the Launchpad board to the top of the robot and you will need Male/Female jumper wires to connect from pins on the Launchpad board to your circuit.  As you progress with building your circuit, you may find that removing the MSP430 chip from the Launchpad board and placing it directly in your circuit will remove all need for the Launchpad board (except for the programming feature) to be mounted on the robot.  Your instructor should have details on performing this setup.
## Circuitry
  It is good  practice to keep all leads of your circuit as short as possible.  Extra lead length only serves to pick up noise from the motor circuitry (and the motors will generate noise that you don't want in the rest of your circuit).  You also will need to route leads around the body of the ICs installed on the protoboard or removal and replacement will be very difficult.  This will become apparent when you blow your first motor controller IC.
  Noise control is achieved by the judicious installation of filter capacitors in your circuit.  The large polarized electrolytic capacitors can be place one on each voltage rail to filter out motor noise from the 5V and 12V rails.  The disc capacitors are not polarized and are to be connected either directly across the two leads on each motor or one each from each motor lead to ground.  The tiny 10 pf cap is useful for times when the MSP430 seems to be reset at regular intervals when you don't want it to be reset.  The 10pf cap should be connected from the reset pin to ground to eliminate this issue.
  Again, keep these leads and all wires as short as practical.
## Motors
  The wheels are directly mounted on the motor shafts and are therefore subject to the shock of being dropped or falling off the edge of the maze.  As a result, some motors may act differently from its mate on the other side of the robot.  This means that you will have to compensate for differences between the two motors in your programming.  Differences are normal even for brand new motors from the factory.  If you feel the difference is very extreme, bring this to Mr. Evans' attention and he will resolve the issue.
## Servo and ultrasonic emitter/detector
  The servo and ultrasonic emitter/detector on the center level of the robot chassis is perhaps the most delicate part of the robot.  The servo is mounted to the chassis via a small metal bracket and the emitter/detector is mounted to an arm on the servo.  The are many right angles on these brackets and they are perhaps not the truest right angles in the world, so for many of you, your emitter/detector may actually look crooked.  As long as the servo arm does not hit any wires or connectors underneath the top pc board, it will work fine.  Do NOT grab and twist the emitter/detector in order to try to straighten it out or to move its position.  If you must move the position, do so gently to reduce any chance of damage to the servo or the arm.  Best advice is to leave it alone, but if there are issues, bring your robot to Mr. Evans and he will resolve them.
## Maintenance
  If at any time you notice loose or broken wires, nuts, bolts, wheels, or hardware, bring the robot to Mr. Evans for repair or replacement. 
